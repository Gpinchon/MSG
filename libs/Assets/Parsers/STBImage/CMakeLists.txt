FetchContent_Declare(
    STB
    GIT_REPOSITORY https://github.com/nothings/stb.git
)
FetchContent_MakeAvailable(STB)
set(STB_INCLUDE_DIR "${stb_SOURCE_DIR}")

set(MSG_GLTF_STB_SOURCE_FILES
  ${CMAKE_CURRENT_SOURCE_DIR}/STBImage.cpp)
add_library(MSG-Assets-Parsers-STBImage ${MSG_GLTF_STB_SOURCE_FILES})
target_link_libraries(MSG-Assets-Parsers-STBImage MSG::Assets)
target_include_directories(MSG-Assets-Parsers-STBImage PRIVATE
  "${CMAKE_CURRENT_SOURCE_DIR}/include"
  "${STB_INCLUDE_DIR}")

set_target_properties(
  MSG-Assets-Parsers-STBImage
  PROPERTIES FOLDER "MSG/Assets/Parsers")

set(MSG_PARSER_LIBS ${MSG_PARSER_LIBS} MSG-Assets-Parsers-STBImage PARENT_SCOPE)

#Mime-Extension
set(MSG_PARSER_MIME_EXTENSION0 ${MSG_PARSER_MIME_EXTENSION0} "image/jpeg")
set(MSG_PARSER_MIME_EXTENSION1 ${MSG_PARSER_MIME_EXTENSION1} ".jpg")
set(MSG_PARSER_MIME_EXTENSION0 ${MSG_PARSER_MIME_EXTENSION0} "image/jpeg")
set(MSG_PARSER_MIME_EXTENSION1 ${MSG_PARSER_MIME_EXTENSION1} ".jpeg")
set(MSG_PARSER_MIME_EXTENSION0 ${MSG_PARSER_MIME_EXTENSION0} "image/png" PARENT_SCOPE)
set(MSG_PARSER_MIME_EXTENSION1 ${MSG_PARSER_MIME_EXTENSION1} ".png" PARENT_SCOPE)

set(MSG_PARSER_MIME_FUNCTION0 ${MSG_PARSER_MIME_FUNCTION0} "image/jpeg")
set(MSG_PARSER_MIME_FUNCTION1 ${MSG_PARSER_MIME_FUNCTION1} "ParseSTBImage")
set(MSG_PARSER_MIME_FUNCTION0 ${MSG_PARSER_MIME_FUNCTION0} "image/x-png")
set(MSG_PARSER_MIME_FUNCTION1 ${MSG_PARSER_MIME_FUNCTION1} "ParseSTBImage")
set(MSG_PARSER_MIME_FUNCTION0 ${MSG_PARSER_MIME_FUNCTION0} "image/png" PARENT_SCOPE)
set(MSG_PARSER_MIME_FUNCTION1 ${MSG_PARSER_MIME_FUNCTION1} "ParseSTBImage" PARENT_SCOPE)